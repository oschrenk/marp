/*
 * Evening - Marp slide theme.
 * Based on Gaia Copyright (C) 2016 Yuki Hattori.
 *
 * Gaia was inspired by AZUSA Keynote templates (by @sanographix).
 * https://github.com/sanographix/azusa-keynote
 */

@import './markdown'
@import '../../node_modules/highlight.js/styles/monokai'
@import url(https://fonts.googleapis.com/css?family=Raleway)
@import url(https://fonts.googleapis.com/css?family=Fira+Mono:400,500,700)
@import url(https://fonts.googleapis.com/css?family=Playball)
@import url(https://fonts.googleapis.com/css?family=Simonetta)

@function hsl($h, $s, $l)
  @return unquote('hsl(#{$h}, #{$s}, #{$l})')

@function hsla($h, $s, $l, $a)
  @return unquote('hsla(#{$h}, #{$s}, #{$l}, #{$a})')

+body-slide-mode
  --slide-bg-color: hsl(200, 5%, 15%);
  --slide-text-color: hsl(200, 5%, 85%);
  --slide-text-strong-color: white;
  --slide-text-em-color: white;
  --slide-text-heading-color: hsl(195, 75%, 66%);
  --slide-text-title-color: white;

  --code-bg-color: var(--slide-bg-color);
  --code-text-color: var(--slide-text-color);

  --link-color: hsl(200, 75%, 75%);
  --quote-color: var(--slide-text-color);
  --big-quote-color: var(--slide-text-heading-color);

  --thead-bg-color: hsl(160, 75%, 35%);
  --thead-text-color: white;
  --table-border-color: hsl(160, 75%, 35%);
  --table-odd-bg-color: rgba(255, 255, 255, 0.03265);

  --text-font-family: 'Raleway', 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
  --title-font-family: 'Playball', serif;
  --heading-font-family: 'Simonetta', serif;
  --quote-font-family: var(--text-font-family);
  --big-quote-font-family: 'Playball', serif;
  --code-font-family: 'Fira Mono', 'Roboto Mono', 'Menlo', 'Courier New', Courier, monospace;

  .markdown-body
    font-size: calc(0.045px * var(--slide-height))
    font-family: var(--text-font-family)
    line-height: 1.3
    letter-spacing: 1.25px
    word-wrap: break-word

  .slide_footer
    opacity: .6
    line-height: calc(0.045px * var(--slide-height))
    font-size: calc(0.025px * var(--slide-height))

  .slide_wrapper
    color: var(--slide-text-color)
    background-color: var(--slide-bg-color)

    > .slide
      padding: calc(0.1px * var(--slide-height)) calc(0.08px * var(--slide-width))

    &.only-headings, &.only-blockquotes
      > .slide
        justify-content: center
      blockquote
        font-family: var(--big-quote-font-family)
        font-size: 1.8em
        text-align: center
        color: var(--big-quote-color)

    strong
      color: var(--slide-text-strong-color)

    em
      color: var(--slide-text-em-color)

    h1
      border-bottom: 0.25rem solid currentColor

    h1, h2, h3, h4
      font-weight: bold

    h5, h6
      font-weight: normal

    h1, h2, h3, h4, h5, h6
      margin: 0 0 .5em 0
      color: var(--slide-text-heading-color)
      font-family: var(--heading-font-family)

    &.only-headings
      h1, h2, h3, h4, h5, h6
        text-align: center
      h1
        font-family: var(--title-font-family)
        color: var(--slide-text-title-color)
        border: none;
        font-weight: normal
        font-size: 2em

    h1
      font-size: 1.8em
    h2
      font-size: 1.5em
    h3
      font-size: 1.4em
    h4
      font-size: 1.1em
    h5
      font-size: 1em
    h6
      font-size: 0.9em

    // Styling
    mark
      background: transparent

    code
      font-family: var(--code-font-family)
      display: inline-block
      padding: 0.1em 0.2em
      margin: -0.1em 0.05em
      letter-spacing: 0
      font-size: 0.75em
      vertical-align: baseline

    pre
      overflow: auto

      code
        display: block
        margin: 0
        padding: 0.5em 0.75em
        font-size: 0.7em

    ul, ol
      > li
        margin: 0.6em 0
        > p
          margin: 0

    ol
      list-style-type: decimal

    blockquote
      position: relative
      margin: calc(0.04px * var(--slide-height))
      font-family: var(--quote-font-family)
      font-style: italic

    table
      border-spacing: 0
      border-collapse: collapse
      width: 100%

      th, td
        padding: 0.2em 0.4em
        border-width: 1px
        border-style: solid


    > .slide
      background-color: var(--slide-bg-color)

    mark
      background-color: var(--slide-text-color)
      color: var(--slide-bg-color)

    a
      color: var(--link-color)

    code
      background-color: var(--code-bg-color)
      color: var(--code-text-color)

    pre
      color: var(--code-text-color)

    blockquote
      &::after, &::before
        color: var(--quote-color)

    table
      th, td
        border-color: var(--table-border-color)

      thead
        th
          background: var(--thead-bg-color)
          color: var(--thead-text-color)

      tbody
        tr:nth-child(odd)
          td, th
            background: var(--table-odd-bg-color)

    &[data-template~="invert"]
      --slide-text-color: var(--slide-bg-color);
      --slide-bg-color: var(--slite-text-color);
      --slide-text-title-color: black;
      --slide-text-strong-color: black;
      --slide-text-em-color: black;
      --link-color: hsl(200, 75%, 50%);
